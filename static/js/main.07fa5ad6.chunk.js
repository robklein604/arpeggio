(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(7),r=n.n(s),i=(n(17),n(18),n(6)),c=n(1),p=n(2),d=n(4),l=n(3),h=n(5),u=(n(19),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(l.a)(t).call(this,e))).toggle_play=function(){n.setState({playing:!n.state.playing}),n.props.toggle_play_synth()},n.state={playing:!1},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{onClick:this.toggle_play,className:"Play "+(this.state.playing?"Playing":"Paused")})}}]),t}(a.Component)),_=(n(20),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(l.a)(t).call(this,e))).cycle_mode=function(){switch(n.state.mode){case"up":n.setState({mode:"down"}),n.props.set_mode("down");break;case"down":n.setState({mode:"updown"}),n.props.set_mode("updown");break;case"updown":n.setState({mode:"up"}),n.props.set_mode("up")}},n.state={mode:"updown"},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Mode_Container"},o.a.createElement("p",null,"Mode:"),o.a.createElement("div",{onClick:this.cycle_mode,className:"mode "+this.state.mode},o.a.createElement("img",{src:"/images/"+this.state.mode+".svg"})))}}]),t}(a.Component)),m=(n(21),function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Keyboard"},o.a.createElement(v,Object.assign({},this.props,{range:2})),o.a.createElement(v,Object.assign({},this.props,{range:3})),o.a.createElement(v,Object.assign({},this.props,{range:4})),o.a.createElement(v,Object.assign({},this.props,{range:5})),o.a.createElement(v,Object.assign({},this.props,{range:6})))}}]),t}(a.Component)),v=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Octave"},o.a.createElement(g,{type:"White",active:this.props.active_notes.includes(12*this.props.range+0),note_number:12*this.props.range+0,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"Black",active:this.props.active_notes.includes(12*this.props.range+1),note_number:12*this.props.range+1,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"White",active:this.props.active_notes.includes(12*this.props.range+2),note_number:12*this.props.range+2,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"Black",active:this.props.active_notes.includes(12*this.props.range+3),note_number:12*this.props.range+3,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"White",active:this.props.active_notes.includes(12*this.props.range+4),note_number:12*this.props.range+4,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"White",active:this.props.active_notes.includes(12*this.props.range+5),note_number:12*this.props.range+5,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"Black",active:this.props.active_notes.includes(12*this.props.range+6),note_number:12*this.props.range+6,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"White",active:this.props.active_notes.includes(12*this.props.range+7),note_number:12*this.props.range+7,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"Black",active:this.props.active_notes.includes(12*this.props.range+8),note_number:12*this.props.range+8,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"White",active:this.props.active_notes.includes(12*this.props.range+9),note_number:12*this.props.range+9,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"Black",active:this.props.active_notes.includes(12*this.props.range+10),note_number:12*this.props.range+10,add_note:this.props.add_note,remove_note:this.props.remove_note}),o.a.createElement(g,{type:"White",active:this.props.active_notes.includes(12*this.props.range+11),note_number:12*this.props.range+11,add_note:this.props.add_note,remove_note:this.props.remove_note}))}}]),t}(a.Component),g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).toggle_active=function(){n.props.active?n.props.remove_note(n.props.note_number):n.props.add_note(n.props.note_number)},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{onClick:this.toggle_active,className:(this.props.active?"active ":"")+this.props.type+" Key "+this.props.note_number})}}]),t}(a.Component),f=(n(22),n(9)),b=n.n(f),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(l.a)(t).call(this,e))).On_Drag=function(e,t){var a=100-t.y/1.5,o=Math.round(n.props.min+a/100*(n.props.max-n.props.min));n.setState({Value:o}),n.props.func&&n.props.func(o)},n.state={Value:n.props.default},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Control"},o.a.createElement("div",{className:"Name"},this.props.type),o.a.createElement("div",{className:"Value"},this.state.Value," ",o.a.createElement("span",{className:"Units"},this.props.units)," "),o.a.createElement("div",{className:"Axis"},o.a.createElement(b.a,{onDrag:this.On_Drag,bounds:{top:0,bottom:150},defaultPosition:{x:0,y:150-Math.round(this.props.default/this.props.max*150)},axis:"y"},o.a.createElement("div",{className:"Bar"}))))}}]),t}(a.Component),E=(n(23),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(l.a)(t).call(this,e))).text_input_change=function(e){n.setState({value:e.target.value})},n.add_chord=function(){var e=n.state.value;""==e&&(e=n.props.active_notes.map(function(e){return n.props.note_number_to_string(e)})),n.props.save_chord(e+" ")},n.state={value:""},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.chords.map(function(t,n){return o.a.createElement(O,{key:n,load_chord:e.props.load_chord,chord:t})});return o.a.createElement("div",{className:"Chords"},o.a.createElement("span",null,"Chords:"),o.a.createElement("input",{type:"text",value:this.state.value,onChange:this.text_input_change}),o.a.createElement("div",{onClick:this.add_chord,className:"add_button"},"add"),o.a.createElement("div",{onClick:this.props.delete_chord,className:"delete_button"},"delete"),o.a.createElement("div",{className:"chord_container"},t))}}]),t}(a.Component)),O=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{onClick:function(){return e.props.load_chord(e.props.chord.notes)},className:"chord"},this.props.chord.name)}}]),t}(a.Component),j=(n(24),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(l.a)(t).call(this,e))).add_note=function(e){var t=n.state.active_notes;t.push(e),t.sort(),n.setState({active_notes:t}),n.props.Audio_Manager.set_active_notes(t)},n.remove_note=function(e){var t=n.state.active_notes.filter(function(t){return t!=e});n.setState({active_notes:t}),n.props.Audio_Manager.set_active_notes(t)},n.save_chord=function(e){var t=Object(i.a)(n.state.chords);t.push({name:e,notes:Object(i.a)(n.state.active_notes)}),n.setState({chords:t})},n.load_chord=function(e){n.setState({active_notes:Object(i.a)(e)}),n.props.Audio_Manager.set_active_notes(e)},n.delete_chord=function(){var e=n.state.chords;e.pop(),n.setState({chords:e})},n.state={active_notes:[],chords:[{name:"C min",notes:[36,39,43,48,51]},{name:"Bb maj",notes:[34,38,41,46,50]},{name:"G maj",notes:[32,36,39,44,48]}]},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"Arpeggio"},o.a.createElement("div",{className:"Header"},o.a.createElement("img",{className:"Logo",src:"/images/keyboard.svg"}),o.a.createElement(u,{toggle_play_synth:this.props.Audio_Manager.toggle_play_synth}),o.a.createElement(_,{set_mode:this.props.Audio_Manager.set_mode})),o.a.createElement("div",{className:"Content"},o.a.createElement(m,{active_notes:this.state.active_notes,add_note:this.add_note,remove_note:this.remove_note}),o.a.createElement(E,{active_notes:this.state.active_notes,chords:this.state.chords,save_chord:this.save_chord,load_chord:this.load_chord,delete_chord:this.delete_chord,note_number_to_string:this.props.Audio_Manager.note_number_to_string}),o.a.createElement("div",{className:"Control_Bar"},o.a.createElement(y,{type:"Speed",default:160,min:20,max:200,units:"bpm",func:this.props.Audio_Manager.set_bpm}),o.a.createElement(y,{type:"Decay",default:750,min:50,max:5e3,units:"ms",func:this.props.Audio_Manager.set_decay}),o.a.createElement(y,{type:"Tone",default:1500,min:10,max:2e3,units:"hz",func:this.props.Audio_Manager.set_cutoff}))))}}]),t}(a.Component)),w=function e(t){var n=this;Object(c.a)(this,e),this.toggle_play_synth=function(){n._Tone.Transport.toggle()},this.set_bpm=function(e){n._Tone.Transport.bpm.value=80+4*e},this.trigger_synth=function(e){if(n.notes.length>0){switch(n._mode){case"up":n.note_index++,n.note_index>=n.notes.length&&(n.note_index=0);break;case"down":n.note_index--,n.note_index<0&&(n.note_index=n.notes.length-1);break;case"updown":"up"==n._direction?n.note_index++:n.note_index--,n.note_index==n.notes.length-1&&(n._direction="down"),0==n.note_index&&(n._direction="up")}var t=n.notes[n.note_index],a=document.getElementsByClassName(t)[0];a&&a.classList.add("playing"),setTimeout(function(){a&&a.classList.remove("playing")},100);var o=n.note_number_to_string(t);o&&n.Synth.triggerAttackRelease(o,.01,e)}},this.set_cutoff=function(e){n.filter.frequency.value=e},this.set_decay=function(e){var t=e/1e3;n.Synth.voices.forEach(function(e){e.envelope.release=t})},this.set_mode=function(e){n._mode=e},this.set_active_notes=function(e){n.notes=e},this.note_number_to_string=function(e){var t,n=e%12;return 0==n?t="C":1==n?t="C#":2==n?t="D":3==n?t="D#":4==n?t="E":5==n?t="F":6==n?t="F#":7==n?t="G":8==n?t="G#":9==n?t="A":10==n?t="A#":11==n&&(t="B"),t+Math.floor(e/12)},this._Tone=t;var a=new t.PanVol(0,-9),o=new t.PanVol(0,-3),s=new t.Limiter(-3).connect(t.Master);this.filter=new t.Filter(2e3,"lowpass"),this.filter.Q.value=6,this.Synth=new t.PolySynth(8,t.Synth).chain(a,this.filter,o,s),this.Synth.voices.forEach(function(e){e.envelope.release=.75,e.envelope.sustain=1}),t.Transport.schedule(this.trigger_synth,0),t.Transport.loopEnd="4n",t.Transport.loop=!0,t.Transport.bpm.value=720,this.notes=[],this.note_index=0,this._mode="updown",this._direction="up"},k=n(10),C=n.n(k);var N=function(){var e=new w(C.a);return o.a.createElement("div",{className:"App"},o.a.createElement(j,{Audio_Manager:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.07fa5ad6.chunk.js.map